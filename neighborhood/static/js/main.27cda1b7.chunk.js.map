{"version":3,"sources":["map.js","App.js","serviceWorker.js","index.js"],"names":["Map","react_default","a","createElement","id","role","Component","App","currentLocation","state","query","mapIsReady","condition","map","initMap","script","document","src","concat","async","defer","addEventListener","_this","setState","body","appendChild","buildMap","google","window","here","Object","assertThisInitialized","bounds","maps","LatLngBounds","Infowindow","InfoWindow","getElementById","center","lat","lng","mapTypeControl","mapTypeControlOptions","style","MapTypeControlStyle","HORIZONTAL_BAR","position","ControlPosition","RIGHT_BOTTOM","zoom","zoomControlOptions","RIGHT_CENTER","streetViewControlOptions","showWindow","marker","setContent","title","open","addListener","one","icon","arguments","length","undefined","setCenter","LatLng","location","Marker","name","url","animation","Animation","DROP","extend","markers","value","filter","fitBounds","getData","event","key","fetch","target","then","response","json","data","venues","catch","e","alert","this","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","push","error","currentTarget","dataset","_this2","className","src_map","type","placeholder","onKeyPress","aria-label","onClick","handle","bind","tabIndex","arira-label","String","href","justCall","data-id","parseInt","distance","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","ReactDOM","render","src_App_0","URL","process","origin","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.27cda1b7.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nclass Map extends Component{\r\n  render(){\r\n    return(\r\n    <div id=\"map\" role=\"application\" />\r\n    )\r\n  }\r\n}\r\n\r\nexport default Map;\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport Map from './map'\nclass App extends Component {\n      currentLocation = [];\n      state = {\n        query:[],\n        mapIsReady: false,\n        condition: false,\n        map: {}\n      }\n\ninitMap = () =>{\n  const ApiKey = 'AIzaSyDTB3tbX3dMTxpoxaXHa-VaB0WQqNXAuOA';\n  const script = document.createElement('script');\n   script.src = `https://maps.googleapis.com/maps/api/js?key=${ApiKey}`;\n   script.async = true;\n   script.defer = true;\n   script.addEventListener('load', () => {\n     this.setState({ mapIsReady: true });\n   });\n   document.body.appendChild(script);\n}\nbuildMap =() => {\n  const google = window.google;\n  const here = this;\n  let bounds = new google.maps.LatLngBounds()\n  const Infowindow = new google.maps.InfoWindow();\n  let map= new google.maps.Map(document.getElementById('map'), {\n    center: {lat: here.currentLocation[0].lat , lng: here.currentLocation[0].lng},\n    mapTypeControl: true,\n          mapTypeControlOptions: {\n              style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,\n              position: google.maps.ControlPosition.RIGHT_BOTTOM\n          },\n    zoom: 11,\n    zoomControlOptions: {\n              position: google.maps.ControlPosition.RIGHT_CENTER\n          },\n    streetViewControlOptions: {\n            position: google.maps.ControlPosition.RIGHT_CENTER\n          },\n  })\n  const iconURL = \"http://maps.google.com/mapfiles/ms/icons/blue-dot.png\" ;\n  marker({location:{lat: here.currentLocation[0].lat, lng: here.currentLocation[0].lng, id: \"1\"}, name:\"your location\"},iconURL)\n  function showWindow(marker){\n    if (Infowindow.marker !== marker) {\n      //console.log(\"called\")\n      Infowindow.marker = marker;\n      Infowindow.setContent('<div>' + marker.title + '</div>');\n      Infowindow.open(map, marker);\n\n    }\n    else {\n      Infowindow.addListener('closeclick', function() {\n        Infowindow.marker = null;\n      });\n    }\n  }\n function  marker (one,icon=\"\"){\n   //console.log(one);\n     //console.log(here.state.query[0].location.lat,typeof(here.state.query[0]) );\n\n     if(one) {\n       map.setCenter(new google.maps.LatLng(one.location.lat, one.location.lng))\n       let marker = new google.maps.Marker({\n       position: {lat: one.location.lat, lng: one.location.lng},\n       map: map,\n       title: one.name,\n       icon : {\n         url : icon\n       },\n       animation: google.maps.Animation.DROP,\n       id: one.location.id\n     })\n     marker.addListener(\"click\", ()=>{\n       showWindow(marker)\n     })\n     bounds.extend(marker.position)\n     //console.log(typeof(marker));\n     return marker;\n     }\n\n  }\n  let markers =[];\n  if(this.state.query.length>0){\n    markers = this.state.query.map(marker)\n  }\n  function filterMarker(value) {\n    //console.log(value);\n    if(markers.length>0) {\n      markers.filter(marker => marker.title===value).map(showWindow)\n      map.fitBounds(bounds);\n    }\n  }\n  return filterMarker\n}\n\ncomponentDidMount(){\n  this.initMap();\n}\ncomponentDidUpdate(){\n  let lat= null;\n  let lng= null;\n  const here = this\n  if(navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(function(position){\n       lat = position.coords.latitude;\n       lng = position.coords.longitude;\n       //console.log(\"sravanf\");\n       here.currentLocation.push({lat: lat, lng: lng})\n       //here.currentLocation.push(pos)\n       if(here.state.mapIsReady) {\n         //console.log(\"map is ready\");\n         here.buildMap()\n       }\n       //here.getData();\n    }, function(error) { document.alert(\"location not supported\")})\n    //console.log(pos.lat);\n    //console.log(pos);\n}\n}\ngetData = (event) =>{\n  //console.log(event);\n  if (event.key===\"Enter\"){\n    //this.setState({query:event.target.value})\n    //console.log(event.target.value);\n    //console.log(this.state.query);\n    //const query = event.target.value;\n    const here = this\n    const end_point = \"https://api.foursquare.com/v2/venues/search\"\n    const client_id = \"WVUL2XKHDR5KGZR1QUCEWPFCLX2MDEG3CMYGRB433X1YDT2J\";\n    const client_secret = \"Z0D12P1T5LAYCUDPHSPVKF5SEHWUAKM2KAJORQFCDXE2YDKZ\"\n    const lat = this.currentLocation[0].lat;\n    const lng = this.currentLocation[0].lng;\n    fetch(`${end_point}?client_id=${client_id}&client_secret=${client_secret}&v=20180323&limit=10&ll=${lat},${lng}&query=${event.target.value}`)\n    .then(response => response.json()).then(sample).catch(e => document.alert(e+\"error in fetching the data\"))\n    function sample(data) {\n      //console.log(JSON.stringify(data));\n      //data = JSON.stringify(data)\n      //console.log(data.response);\n      here.setState({query: data.response.venues})\n    }\n  }\n}\nhandle() {\n  this.setState({\n    condition: !this.state.condition\n  })\n}\njustCall(event){\n  //console.log(this,event.currentTarget.dataset.id,\"just call\");\n  this.buildMap()(event.currentTarget.dataset.id)\n}\nrender() {\n  //console.log( this.state.mapIsReady, this.currentLocation, this.state.query)\n    return (\n      <div className=\"App\">\n        {\n          this.state.mapIsReady ? <Map/> : <h2>Cant able to load the map</h2>\n        }\n        <div id=\"search\">\n            <input id=\"searchField\" type=\"text\" placeholder=\"coffee or chicken or Newyork \"  onKeyPress={(event)=>this.getData(event)} aria-label={\"search field\"} />\n        </div>\n        <button onClick={this.handle.bind(this)}  tabIndex={\"0\"} arira-label={\"toggle list\"} >&#9776;</button>\n        <ul className=\"cardList\" id={this.state.condition ? \"menu-hidden\" : \"\"} role=\"tablist\" tabIndex={\"0\"} >\n            {\n              this.state.query.length>0 ?  this.state.query.map(data =>(<li id=\"card\" key={String(data.id)} role=\"presentation\" tabIndex={\"-1\"} >\n            <a href=\"#\" onClick={this.justCall.bind(this)} data-id={String(data.name)} role=\"tab\" tabIndex={\"0\"}  > <h4>{String(data.name)}</h4> <p>Distance <span>{parseInt(parseInt(data.location.distance)*0.001)}Kms</span></p>\n           </a> </li>)): <h5> Search something</h5>\n            }\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}